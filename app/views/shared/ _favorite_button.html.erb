<div class="favorite-button" data-live-event-id="<%= live_event.id %>">
  <% if current_user %>
    <% if current_user.favorited?(live_event) %>
      <%= button_to unfavorite_live_event_path(live_event),
                    method: :delete,
                    remote: true,
                    class: "heart-button favorited",
                    title: "„ÅäÊ∞ó„Å´ÂÖ•„Çä„Åã„ÇâÂâäÈô§" do %>
        <i class="heart-icon">‚ù§Ô∏è</i>
        <span class="favorite-count"><%= live_event.favorites.count %></span>
      <% end %>
    <% else %>
      <%= button_to favorite_live_event_path(live_event),
                    method: :post,
                    remote: true,
                    class: "heart-button not-favorited",
                    title: "„ÅäÊ∞ó„Å´ÂÖ•„Çä„Å´ËøΩÂä†" do %>
        <i class="heart-icon">ü§ç</i>
        <span class="favorite-count"><%= live_event.favorites.count %></span>
      <% end %>
    <% end %>
  <% else %>
    <%= link_to login_path, class: "heart-button login-required", title: "„É≠„Ç∞„Ç§„É≥„Åó„Å¶„ÅäÊ∞ó„Å´ÂÖ•„ÇäÁôªÈå≤" do %>
      <i class="heart-icon">ü§ç</i>
      <span class="favorite-count">0</span>
    <% end %>
  <% end %>
</div>
